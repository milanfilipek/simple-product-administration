<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">

	<title>{ifset title}{include title|stripHtml} | {/ifset}Nette Web</title>

	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

	{asset? 'main.js'}

	<style>
		body {
			font-family: 'Inter', Arial, sans-serif;
			height: calc(100vh - 60px);
		}
		nav {
			background: #1976d2;
			padding: 10px;
			display: flex;
			align-items: center;
		}
		nav a {
			color: #fff;
			text-decoration: none;
			font-weight: bold;
			margin-right: 15px;
		}
		nav a:hover {
			text-decoration: underline;
		}
		#flash-container {
			position: fixed;
			bottom: 20px;
			right: 20px;
			z-index: 9999;
			display: flex;
			flex-direction: column;
			gap: 10px;
		}
		.flash {
			background: #323232;
			color: #fff;
			padding: 12px 24px;
			border-radius: 6px;
			box-shadow: 0 2px 8px rgba(0,0,0,0.15);
			opacity: 1;
			transition: opacity 0.5s;
			min-width: 200px;
		}
		.flash.success { background: #43a047; }
		.flash.error { background: #e53935; }
		.flash.info { background: #1976d2; }
	</style>
	{ifset styles}
		{include styles}
	{/ifset}
</head>

<body>
	<nav>
		<a n:href="Home:default">🏠 Domů</a>
		<div style="flex:1"></div>
		{if !$user->isLoggedIn()}
			<a n:href="User:login">👤 Přihlásit se</a>
		{elseif $user->isLoggedIn() && $user->isInRole('customer')}
			<a n:href="User:profile">👤 Můj profil</a>
			<a n:href="User:logout">🚪 Odhlásit</a>
		{/if}

		{if $user->isLoggedIn() && $user->isInRole('admin')}
			<a n:href="Admin:overview" style="margin-left:auto;">🔑 Admin</a>
		{/if}
	</nav>

	<div id="flash-container">
		<div n:foreach="$flashes as $flash" n:class="flash, $flash->type">{$flash->message}</div>
	</div>

	{include content}
</body>
</html>
